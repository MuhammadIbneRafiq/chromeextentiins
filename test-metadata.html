<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page: Algebra for Security - 2WF90 Course</title>
    <meta name="description" content="This is a test page for the AI Guardian extension to verify metadata extraction and focus mode functionality.">
    <meta name="keywords" content="algebra, security, 2wf90, mathematics, cryptography, computer science">
    <meta property="og:title" content="Test Page: Algebra for Security">
    <meta property="og:description" content="Testing metadata extraction for AI Guardian extension">
    <meta property="og:type" content="website">
</head>
<body>
    <h1>Test Page: Algebra for Security</h1>
    <h2>Course: 2WF90</h2>
    <p>This page contains the keywords "algebra", "security", and "2wf90" that should match your focus mode settings.</p>
    
    <div id="debug-info">
        <h3>Debug Information</h3>
        <p>Open the browser console (F12) to see AI Guardian debug messages.</p>
        <p>This page should be ALLOWED if your focus mode has these keywords:</p>
        <ul>
            <li>Title contains: "algebra" or "security" or "2wf90"</li>
            <li>Description contains: any of the above</li>
            <li>Keywords contain: any of the above</li>
        </ul>
    </div>

    <div id="chat-simulation" style="margin-top: 30px; padding: 20px; background: #f5f5f5; border-radius: 8px;">
        <h3>Chat Interface Simulation</h3>
        <p>This simulates a chat interface to test the AI Guardian's chat query detection:</p>
        <textarea id="chat-input" placeholder="Ask anything..." style="width: 100%; height: 100px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 10px;"></textarea>
        <button onclick="testChatQuery()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Test Chat Query</button>
        <div id="chat-output" style="margin-top: 10px; padding: 10px; background: white; border-radius: 4px; min-height: 50px;"></div>
    </div>

    <script>
        console.log('üöÄ Test Metadata Page Loaded');
        console.log('üîç This page should trigger AI Guardian metadata analysis');
        console.log('üìù Check console for AI Guardian debug messages');
        
        // Simulate some activity
        setTimeout(() => {
            console.log('‚è∞ Page fully loaded - AI Guardian should have analyzed metadata');
        }, 3000);

        function testChatQuery() {
            const input = document.getElementById('chat-input');
            const output = document.getElementById('chat-output');
            const query = input.value.trim();
            
            if (query) {
                output.innerHTML = `<strong>Query:</strong> ${query}<br><strong>Length:</strong> ${query.length} characters`;
                console.log('üß™ Test chat query:', query);
                
                // Simulate typing in the chat input
                input.value = query;
                input.dispatchEvent(new Event('input', { bubbles: true }));
                input.dispatchEvent(new Event('change', { bubbles: true }));
                
                console.log('‚úÖ Chat query simulation complete - AI Guardian should detect this');
            } else {
                output.innerHTML = '<em>Please enter a query first</em>';
            }
        }
    </script>
</body>
</html>
